<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_WalletApp" targetNamespace="http://example.com/wallet" exporter="Camunda Modeler" exporterVersion="5.40.1">
  <bpmn:process id="WalletAppProcess" name="Wallet App End-to-End Flow" isExecutable="true">
    <bpmn:startEvent id="StartEvent_AppOpen" name="Kullanıcı uygulamayı açar">
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="UserTask_LanguagePhoneTckn" name="Dil seçimi + Telefon + TCKN gir">
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_SendOtp" name="Kayıt başlangıcı (OTP gönder)" camunda:type="external" camunda:topic="send-otp">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_OtpSentOk" name="OTP gönderimi başarılı mı?">
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_4_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_4_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_OtpSendError" name="Hata göster, tekrar dene (OTP gönder)">
      <bpmn:incoming>Flow_4_no</bpmn:incoming>
      <bpmn:outgoing>Flow_4_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_EnterOtp" name="OTP kodu gir">
      <bpmn:incoming>Flow_4_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_VerifyOtp" name="OTP doğrula" camunda:type="external" camunda:topic="verify-otp">
      <bpmn:incoming>Flow_5</bpmn:incoming>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_OtpVerifyOk" name="OTP doğrulama başarılı mı?">
      <bpmn:incoming>Flow_6</bpmn:incoming>
      <bpmn:outgoing>Flow_7_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_7_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_OtpVerifyError" name="Hata göster, tekrar dene (OTP gir)">
      <bpmn:incoming>Flow_7_no</bpmn:incoming>
      <bpmn:outgoing>Flow_7_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_CompleteProfile" name="Profil tamamla (Bireysel/Kurumsal, ad/soyad, TCKN/Vergi No, şifre, adres, para birimi)">
      <bpmn:incoming>Flow_7_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_8</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_SaveProfile" name="Profil kaydet" camunda:type="external" camunda:topic="save-profile">
      <bpmn:incoming>Flow_8</bpmn:incoming>
      <bpmn:outgoing>Flow_9</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_ProfileCompleted" name="Profil tamamlandı mı?">
      <bpmn:incoming>Flow_9</bpmn:incoming>
      <bpmn:outgoing>Flow_10_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_10_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_ProfileError" name="Hata göster, tekrar dene (Profil tamamla)">
      <bpmn:incoming>Flow_10_no</bpmn:incoming>
      <bpmn:outgoing>Flow_10_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_LoginScreen" name="Giriş ekranı (telefon + şifre)">
      <bpmn:incoming>Flow_10_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_11</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_Login" name="Login" camunda:type="external" camunda:topic="login">
      <bpmn:incoming>Flow_11</bpmn:incoming>
      <bpmn:outgoing>Flow_12</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_LoginOk" name="Login başarılı mı?">
      <bpmn:incoming>Flow_12</bpmn:incoming>
      <bpmn:outgoing>Flow_13_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_13_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_LoginError" name="Hata göster, tekrar dene (Giriş)">
      <bpmn:incoming>Flow_13_no</bpmn:incoming>
      <bpmn:outgoing>Flow_13_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_WalletsScreen" name="Cüzdanlarım ekranı">
      <bpmn:incoming>Flow_13_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_14</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetWallets" name="Cüzdan listesi getir" camunda:type="external" camunda:topic="get-wallets">
      <bpmn:incoming>Flow_14</bpmn:incoming>
      <bpmn:outgoing>Flow_15</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_WalletExists" name="Cüzdan var mı?">
      <bpmn:incoming>Flow_15</bpmn:incoming>
      <bpmn:outgoing>Flow_16_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_16_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_NoWalletEmptyState" name="Boş ekran, profil tamamla uyarısı">
      <bpmn:incoming>Flow_16_no</bpmn:incoming>
      <bpmn:outgoing>Flow_16_to_menu</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_SelectWalletDetail" name="Cüzdan detayı seç">
      <bpmn:incoming>Flow_16_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_17</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetWalletDetail" name="Cüzdan detayını getir" camunda:type="external" camunda:topic="get-wallet-detail">
      <bpmn:incoming>Flow_17</bpmn:incoming>
      <bpmn:outgoing>Flow_18</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_TransactionsList" name="İşlemler listesi">
      <bpmn:incoming>Flow_18</bpmn:incoming>
      <bpmn:outgoing>Flow_19</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetTransactions" name="İşlemler getir" camunda:type="external" camunda:topic="get-transactions">
      <bpmn:incoming>Flow_19</bpmn:incoming>
      <bpmn:outgoing>Flow_20</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_ActionMenu" name="İşlem seç (TopUp/Withdraw/P2P/Kart/Banka/Çıkış)">
      <bpmn:incoming>Flow_20</bpmn:incoming>
      <bpmn:incoming>Flow_16_to_menu</bpmn:incoming>
      <bpmn:incoming>Flow_BackToMenu_FromCardBank</bpmn:incoming>
      <bpmn:outgoing>Flow_to_TopUp</bpmn:outgoing>
      <bpmn:outgoing>Flow_to_Withdraw</bpmn:outgoing>
      <bpmn:outgoing>Flow_to_P2P</bpmn:outgoing>
      <bpmn:outgoing>Flow_to_CardBank</bpmn:outgoing>
      <bpmn:outgoing>Flow_to_End</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_TopUpScreen" name="Para yükle ekranı">
      <bpmn:incoming>Flow_to_TopUp</bpmn:incoming>
      <bpmn:outgoing>Flow_TU_1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetPaymentSources" name="Banka hesapları/kartlar getir" camunda:type="external" camunda:topic="get-payment-sources">
      <bpmn:incoming>Flow_TU_1</bpmn:incoming>
      <bpmn:outgoing>Flow_TU_2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_SelectSourceAmount" name="Ödeme kaynağı seç + tutar gir">
      <bpmn:incoming>Flow_TU_2</bpmn:incoming>
      <bpmn:incoming>Flow_TU_back</bpmn:incoming>
      <bpmn:outgoing>Flow_TU_3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_CreateTopUp" name="TopUp oluştur" camunda:type="external" camunda:topic="create-topup">
      <bpmn:incoming>Flow_TU_3</bpmn:incoming>
      <bpmn:outgoing>Flow_TU_4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_TopUpOk" name="TopUp başarılı mı?">
      <bpmn:incoming>Flow_TU_4</bpmn:incoming>
      <bpmn:outgoing>Flow_TU_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_TU_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_TopUpError" name="Hata göster, tekrar dene (TopUp)">
      <bpmn:incoming>Flow_TU_no</bpmn:incoming>
      <bpmn:outgoing>Flow_TU_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_TopUpResult" name="TopUp sonuç ekranı (Cüzdan detayına dön)">
      <bpmn:incoming>Flow_TU_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_BackToWalletDetail_FromTopUp</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_WithdrawScreen" name="Para çek ekranı">
      <bpmn:incoming>Flow_to_Withdraw</bpmn:incoming>
      <bpmn:outgoing>Flow_WD_1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetBankAccounts" name="Banka hesapları getir" camunda:type="external" camunda:topic="get-bank-accounts">
      <bpmn:incoming>Flow_WD_1</bpmn:incoming>
      <bpmn:outgoing>Flow_WD_2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_WithdrawAmountSelect" name="Tutar gir + banka hesabı seç">
      <bpmn:incoming>Flow_WD_2</bpmn:incoming>
      <bpmn:incoming>Flow_WD_back</bpmn:incoming>
      <bpmn:outgoing>Flow_WD_3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_CreateWithdraw" name="Withdraw oluştur" camunda:type="external" camunda:topic="create-withdraw">
      <bpmn:incoming>Flow_WD_3</bpmn:incoming>
      <bpmn:outgoing>Flow_WD_4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_WithdrawOk" name="Withdraw başarılı mı?">
      <bpmn:incoming>Flow_WD_4</bpmn:incoming>
      <bpmn:outgoing>Flow_WD_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_WD_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_WithdrawError" name="Hata göster, tekrar dene (Withdraw)">
      <bpmn:incoming>Flow_WD_no</bpmn:incoming>
      <bpmn:outgoing>Flow_WD_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_WithdrawResult" name="Withdraw sonuç ekranı (Cüzdan detayına dön)">
      <bpmn:incoming>Flow_WD_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_BackToWalletDetail_FromWithdraw</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_P2PScreen" name="Gönder (P2P) ekranı">
      <bpmn:incoming>Flow_to_P2P</bpmn:incoming>
      <bpmn:outgoing>Flow_P2P_1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetWalletsForP2P" name="Cüzdan listesi getir" camunda:type="external" camunda:topic="get-wallets">
      <bpmn:incoming>Flow_P2P_1</bpmn:incoming>
      <bpmn:outgoing>Flow_P2P_2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_P2PForm" name="Gönderen cüzdan seç + alıcı cüzdan no + tutar">
      <bpmn:incoming>Flow_P2P_2</bpmn:incoming>
      <bpmn:incoming>Flow_P2P_back</bpmn:incoming>
      <bpmn:outgoing>Flow_P2P_3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_CreateP2P" name="P2P transfer oluştur" camunda:type="external" camunda:topic="create-p2p">
      <bpmn:incoming>Flow_P2P_3</bpmn:incoming>
      <bpmn:outgoing>Flow_P2P_4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_P2POk" name="Transfer başarılı mı?">
      <bpmn:incoming>Flow_P2P_4</bpmn:incoming>
      <bpmn:outgoing>Flow_P2P_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_P2P_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_P2PError" name="Hata göster, tekrar dene (P2P)">
      <bpmn:incoming>Flow_P2P_no</bpmn:incoming>
      <bpmn:outgoing>Flow_P2P_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_P2PResult" name="P2P sonuç ekranı (Cüzdan detayına dön)">
      <bpmn:incoming>Flow_P2P_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_BackToWalletDetail_FromP2P</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_CardsScreen" name="Kartlar ekranı">
      <bpmn:incoming>Flow_to_CardBank</bpmn:incoming>
      <bpmn:outgoing>Flow_CB_1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetCards" name="Kartları getir" camunda:type="external" camunda:topic="get-cards">
      <bpmn:incoming>Flow_CB_1</bpmn:incoming>
      <bpmn:outgoing>Flow_CB_2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_AddCardForm" name="Kart ekle (form doldur)">
      <bpmn:incoming>Flow_CB_2</bpmn:incoming>
      <bpmn:incoming>Flow_CB_card_back</bpmn:incoming>
      <bpmn:outgoing>Flow_CB_3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_AddCard" name="Kart ekle" camunda:type="external" camunda:topic="add-card">
      <bpmn:incoming>Flow_CB_3</bpmn:incoming>
      <bpmn:outgoing>Flow_CB_4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_CardAdded" name="Kart eklendi mi?">
      <bpmn:incoming>Flow_CB_4</bpmn:incoming>
      <bpmn:outgoing>Flow_CB_card_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_CB_card_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_CardError" name="Hata göster, tekrar dene (Kart ekle)">
      <bpmn:incoming>Flow_CB_card_no</bpmn:incoming>
      <bpmn:outgoing>Flow_CB_card_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_CardDetail" name="Kart detay">
      <bpmn:incoming>Flow_CB_card_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_CB_5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_BankAccountsScreen" name="Banka hesapları ekranı">
      <bpmn:incoming>Flow_CB_5</bpmn:incoming>
      <bpmn:outgoing>Flow_BA_1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_GetBankAccounts2" name="Banka hesaplarını getir" camunda:type="external" camunda:topic="get-bank-accounts">
      <bpmn:incoming>Flow_BA_1</bpmn:incoming>
      <bpmn:outgoing>Flow_BA_2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="UserTask_AddBankAccount" name="Banka hesabı ekle">
      <bpmn:incoming>Flow_BA_2</bpmn:incoming>
      <bpmn:incoming>Flow_BA_back</bpmn:incoming>
      <bpmn:outgoing>Flow_BA_3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ServiceTask_AddBankAccount" name="Banka hesabı ekle" camunda:type="external" camunda:topic="add-bank-account">
      <bpmn:incoming>Flow_BA_3</bpmn:incoming>
      <bpmn:outgoing>Flow_BA_4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="Gateway_BankAdded" name="Banka hesabı eklendi mi?">
      <bpmn:incoming>Flow_BA_4</bpmn:incoming>
      <bpmn:outgoing>Flow_BA_yes</bpmn:outgoing>
      <bpmn:outgoing>Flow_BA_no</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="UserTask_BankError" name="Hata göster, tekrar dene (Banka hesabı ekle)">
      <bpmn:incoming>Flow_BA_no</bpmn:incoming>
      <bpmn:outgoing>Flow_BA_back</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="UserTask_BankDetail" name="Banka hesap detay">
      <bpmn:incoming>Flow_BA_yes</bpmn:incoming>
      <bpmn:outgoing>Flow_BackToMenu_FromCardBank</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="EndEvent_Done" name="Bitiş / Çıkış">
      <bpmn:incoming>Flow_to_End</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_AppOpen" targetRef="UserTask_LanguagePhoneTckn" />
    <bpmn:sequenceFlow id="Flow_2" sourceRef="UserTask_LanguagePhoneTckn" targetRef="ServiceTask_SendOtp" />
    <bpmn:sequenceFlow id="Flow_3" sourceRef="ServiceTask_SendOtp" targetRef="Gateway_OtpSentOk" />
    <bpmn:sequenceFlow id="Flow_4_yes" sourceRef="Gateway_OtpSentOk" targetRef="UserTask_EnterOtp">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${otpSent == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_4_no" sourceRef="Gateway_OtpSentOk" targetRef="UserTask_OtpSendError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${otpSent == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_4_back" sourceRef="UserTask_OtpSendError" targetRef="ServiceTask_SendOtp" />
    <bpmn:sequenceFlow id="Flow_5" sourceRef="UserTask_EnterOtp" targetRef="ServiceTask_VerifyOtp" />
    <bpmn:sequenceFlow id="Flow_6" sourceRef="ServiceTask_VerifyOtp" targetRef="Gateway_OtpVerifyOk" />
    <bpmn:sequenceFlow id="Flow_7_yes" sourceRef="Gateway_OtpVerifyOk" targetRef="UserTask_CompleteProfile">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${otpValid == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_7_no" sourceRef="Gateway_OtpVerifyOk" targetRef="UserTask_OtpVerifyError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${otpValid == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_7_back" sourceRef="UserTask_OtpVerifyError" targetRef="UserTask_EnterOtp" />
    <bpmn:sequenceFlow id="Flow_8" sourceRef="UserTask_CompleteProfile" targetRef="ServiceTask_SaveProfile" />
    <bpmn:sequenceFlow id="Flow_9" sourceRef="ServiceTask_SaveProfile" targetRef="Gateway_ProfileCompleted" />
    <bpmn:sequenceFlow id="Flow_10_yes" sourceRef="Gateway_ProfileCompleted" targetRef="UserTask_LoginScreen">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${profileCompleted == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_10_no" sourceRef="Gateway_ProfileCompleted" targetRef="UserTask_ProfileError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${profileCompleted == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_10_back" sourceRef="UserTask_ProfileError" targetRef="UserTask_CompleteProfile" />
    <bpmn:sequenceFlow id="Flow_11" sourceRef="UserTask_LoginScreen" targetRef="ServiceTask_Login" />
    <bpmn:sequenceFlow id="Flow_12" sourceRef="ServiceTask_Login" targetRef="Gateway_LoginOk" />
    <bpmn:sequenceFlow id="Flow_13_yes" sourceRef="Gateway_LoginOk" targetRef="UserTask_WalletsScreen">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${loginOk == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_13_no" sourceRef="Gateway_LoginOk" targetRef="UserTask_LoginError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${loginOk == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_13_back" sourceRef="UserTask_LoginError" targetRef="UserTask_LoginScreen" />
    <bpmn:sequenceFlow id="Flow_14" sourceRef="UserTask_WalletsScreen" targetRef="ServiceTask_GetWallets" />
    <bpmn:sequenceFlow id="Flow_15" sourceRef="ServiceTask_GetWallets" targetRef="Gateway_WalletExists" />
    <bpmn:sequenceFlow id="Flow_16_yes" sourceRef="Gateway_WalletExists" targetRef="UserTask_SelectWalletDetail">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${walletCount &gt; 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_16_no" sourceRef="Gateway_WalletExists" targetRef="UserTask_NoWalletEmptyState">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${walletCount == 0}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_16_to_menu" sourceRef="UserTask_NoWalletEmptyState" targetRef="Gateway_ActionMenu" />
    <bpmn:sequenceFlow id="Flow_17" sourceRef="UserTask_SelectWalletDetail" targetRef="ServiceTask_GetWalletDetail" />
    <bpmn:sequenceFlow id="Flow_18" sourceRef="ServiceTask_GetWalletDetail" targetRef="UserTask_TransactionsList" />
    <bpmn:sequenceFlow id="Flow_19" sourceRef="UserTask_TransactionsList" targetRef="ServiceTask_GetTransactions" />
    <bpmn:sequenceFlow id="Flow_20" sourceRef="ServiceTask_GetTransactions" targetRef="Gateway_ActionMenu" />
    <bpmn:sequenceFlow id="Flow_to_TopUp" sourceRef="Gateway_ActionMenu" targetRef="UserTask_TopUpScreen">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${action == "TOPUP"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_to_Withdraw" sourceRef="Gateway_ActionMenu" targetRef="UserTask_WithdrawScreen">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${action == "WITHDRAW"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_to_P2P" sourceRef="Gateway_ActionMenu" targetRef="UserTask_P2PScreen">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${action == "P2P"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_to_CardBank" sourceRef="Gateway_ActionMenu" targetRef="UserTask_CardsScreen">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${action == "CARD_BANK"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_to_End" sourceRef="Gateway_ActionMenu" targetRef="EndEvent_Done">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${action == "EXIT"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_TU_1" sourceRef="UserTask_TopUpScreen" targetRef="ServiceTask_GetPaymentSources" />
    <bpmn:sequenceFlow id="Flow_TU_2" sourceRef="ServiceTask_GetPaymentSources" targetRef="UserTask_SelectSourceAmount" />
    <bpmn:sequenceFlow id="Flow_TU_3" sourceRef="UserTask_SelectSourceAmount" targetRef="ServiceTask_CreateTopUp" />
    <bpmn:sequenceFlow id="Flow_TU_4" sourceRef="ServiceTask_CreateTopUp" targetRef="Gateway_TopUpOk" />
    <bpmn:sequenceFlow id="Flow_TU_yes" sourceRef="Gateway_TopUpOk" targetRef="UserTask_TopUpResult">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${topupOk == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_TU_no" sourceRef="Gateway_TopUpOk" targetRef="UserTask_TopUpError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${topupOk == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_TU_back" sourceRef="UserTask_TopUpError" targetRef="UserTask_SelectSourceAmount" />
    <bpmn:sequenceFlow id="Flow_BackToWalletDetail_FromTopUp" sourceRef="UserTask_TopUpResult" targetRef="UserTask_SelectWalletDetail" />
    <bpmn:sequenceFlow id="Flow_WD_1" sourceRef="UserTask_WithdrawScreen" targetRef="ServiceTask_GetBankAccounts" />
    <bpmn:sequenceFlow id="Flow_WD_2" sourceRef="ServiceTask_GetBankAccounts" targetRef="UserTask_WithdrawAmountSelect" />
    <bpmn:sequenceFlow id="Flow_WD_3" sourceRef="UserTask_WithdrawAmountSelect" targetRef="ServiceTask_CreateWithdraw" />
    <bpmn:sequenceFlow id="Flow_WD_4" sourceRef="ServiceTask_CreateWithdraw" targetRef="Gateway_WithdrawOk" />
    <bpmn:sequenceFlow id="Flow_WD_yes" sourceRef="Gateway_WithdrawOk" targetRef="UserTask_WithdrawResult">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${withdrawOk == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_WD_no" sourceRef="Gateway_WithdrawOk" targetRef="UserTask_WithdrawError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${withdrawOk == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_WD_back" sourceRef="UserTask_WithdrawError" targetRef="UserTask_WithdrawAmountSelect" />
    <bpmn:sequenceFlow id="Flow_BackToWalletDetail_FromWithdraw" sourceRef="UserTask_WithdrawResult" targetRef="UserTask_SelectWalletDetail" />
    <bpmn:sequenceFlow id="Flow_P2P_1" sourceRef="UserTask_P2PScreen" targetRef="ServiceTask_GetWalletsForP2P" />
    <bpmn:sequenceFlow id="Flow_P2P_2" sourceRef="ServiceTask_GetWalletsForP2P" targetRef="UserTask_P2PForm" />
    <bpmn:sequenceFlow id="Flow_P2P_3" sourceRef="UserTask_P2PForm" targetRef="ServiceTask_CreateP2P" />
    <bpmn:sequenceFlow id="Flow_P2P_4" sourceRef="ServiceTask_CreateP2P" targetRef="Gateway_P2POk" />
    <bpmn:sequenceFlow id="Flow_P2P_yes" sourceRef="Gateway_P2POk" targetRef="UserTask_P2PResult">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${p2pOk == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_P2P_no" sourceRef="Gateway_P2POk" targetRef="UserTask_P2PError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${p2pOk == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_P2P_back" sourceRef="UserTask_P2PError" targetRef="UserTask_P2PForm" />
    <bpmn:sequenceFlow id="Flow_BackToWalletDetail_FromP2P" sourceRef="UserTask_P2PResult" targetRef="UserTask_SelectWalletDetail" />
    <bpmn:sequenceFlow id="Flow_CB_1" sourceRef="UserTask_CardsScreen" targetRef="ServiceTask_GetCards" />
    <bpmn:sequenceFlow id="Flow_CB_2" sourceRef="ServiceTask_GetCards" targetRef="UserTask_AddCardForm" />
    <bpmn:sequenceFlow id="Flow_CB_3" sourceRef="UserTask_AddCardForm" targetRef="ServiceTask_AddCard" />
    <bpmn:sequenceFlow id="Flow_CB_4" sourceRef="ServiceTask_AddCard" targetRef="Gateway_CardAdded" />
    <bpmn:sequenceFlow id="Flow_CB_card_yes" sourceRef="Gateway_CardAdded" targetRef="UserTask_CardDetail">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cardAdded == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_CB_card_no" sourceRef="Gateway_CardAdded" targetRef="UserTask_CardError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cardAdded == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_CB_card_back" sourceRef="UserTask_CardError" targetRef="UserTask_AddCardForm" />
    <bpmn:sequenceFlow id="Flow_CB_5" sourceRef="UserTask_CardDetail" targetRef="UserTask_BankAccountsScreen" />
    <bpmn:sequenceFlow id="Flow_BA_1" sourceRef="UserTask_BankAccountsScreen" targetRef="ServiceTask_GetBankAccounts2" />
    <bpmn:sequenceFlow id="Flow_BA_2" sourceRef="ServiceTask_GetBankAccounts2" targetRef="UserTask_AddBankAccount" />
    <bpmn:sequenceFlow id="Flow_BA_3" sourceRef="UserTask_AddBankAccount" targetRef="ServiceTask_AddBankAccount" />
    <bpmn:sequenceFlow id="Flow_BA_4" sourceRef="ServiceTask_AddBankAccount" targetRef="Gateway_BankAdded" />
    <bpmn:sequenceFlow id="Flow_BA_yes" sourceRef="Gateway_BankAdded" targetRef="UserTask_BankDetail">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${bankAdded == true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_BA_no" sourceRef="Gateway_BankAdded" targetRef="UserTask_BankError">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${bankAdded == false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_BA_back" sourceRef="UserTask_BankError" targetRef="UserTask_AddBankAccount" />
    <bpmn:sequenceFlow id="Flow_BackToMenu_FromCardBank" sourceRef="UserTask_BankDetail" targetRef="Gateway_ActionMenu" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_WalletApp">
    <bpmndi:BPMNPlane id="BPMNPlane_WalletApp" bpmnElement="WalletAppProcess">
      <bpmndi:BPMNShape id="StartEvent_AppOpen_di" bpmnElement="StartEvent_AppOpen">
        <dc:Bounds x="200" y="150" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="177" y="196" width="81" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_LanguagePhoneTckn_di" bpmnElement="UserTask_LanguagePhoneTckn">
        <dc:Bounds x="380" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_SendOtp_di" bpmnElement="ServiceTask_SendOtp">
        <dc:Bounds x="600" y="330" width="160" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_OtpSentOk_di" bpmnElement="Gateway_OtpSentOk" isMarkerVisible="true">
        <dc:Bounds x="820" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_OtpSendError_di" bpmnElement="UserTask_OtpSendError">
        <dc:Bounds x="980" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_EnterOtp_di" bpmnElement="UserTask_EnterOtp">
        <dc:Bounds x="1200" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_VerifyOtp_di" bpmnElement="ServiceTask_VerifyOtp">
        <dc:Bounds x="1420" y="330" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_OtpVerifyOk_di" bpmnElement="Gateway_OtpVerifyOk" isMarkerVisible="true">
        <dc:Bounds x="1640" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_OtpVerifyError_di" bpmnElement="UserTask_OtpVerifyError">
        <dc:Bounds x="1800" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_CompleteProfile_di" bpmnElement="UserTask_CompleteProfile">
        <dc:Bounds x="2020" y="110" width="200" height="100" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_SaveProfile_di" bpmnElement="ServiceTask_SaveProfile">
        <dc:Bounds x="2280" y="330" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_ProfileCompleted_di" bpmnElement="Gateway_ProfileCompleted" isMarkerVisible="true">
        <dc:Bounds x="2500" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_ProfileError_di" bpmnElement="UserTask_ProfileError">
        <dc:Bounds x="2660" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_LoginScreen_di" bpmnElement="UserTask_LoginScreen">
        <dc:Bounds x="2880" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_Login_di" bpmnElement="ServiceTask_Login">
        <dc:Bounds x="3100" y="330" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_LoginOk_di" bpmnElement="Gateway_LoginOk" isMarkerVisible="true">
        <dc:Bounds x="3320" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_LoginError_di" bpmnElement="UserTask_LoginError">
        <dc:Bounds x="3480" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_WalletsScreen_di" bpmnElement="UserTask_WalletsScreen">
        <dc:Bounds x="3700" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetWallets_di" bpmnElement="ServiceTask_GetWallets">
        <dc:Bounds x="3920" y="330" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_WalletExists_di" bpmnElement="Gateway_WalletExists" isMarkerVisible="true">
        <dc:Bounds x="4140" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_NoWalletEmptyState_di" bpmnElement="UserTask_NoWalletEmptyState">
        <dc:Bounds x="4300" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_SelectWalletDetail_di" bpmnElement="UserTask_SelectWalletDetail">
        <dc:Bounds x="4520" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetWalletDetail_di" bpmnElement="ServiceTask_GetWalletDetail">
        <dc:Bounds x="4740" y="330" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_TransactionsList_di" bpmnElement="UserTask_TransactionsList">
        <dc:Bounds x="4960" y="130" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetTransactions_di" bpmnElement="ServiceTask_GetTransactions">
        <dc:Bounds x="5180" y="330" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_ActionMenu_di" bpmnElement="Gateway_ActionMenu" isMarkerVisible="true">
        <dc:Bounds x="5400" y="145" width="60" height="60" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_TopUpScreen_di" bpmnElement="UserTask_TopUpScreen">
        <dc:Bounds x="5620" y="80" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetPaymentSources_di" bpmnElement="ServiceTask_GetPaymentSources">
        <dc:Bounds x="5840" y="330" width="180" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_SelectSourceAmount_di" bpmnElement="UserTask_SelectSourceAmount">
        <dc:Bounds x="6080" y="80" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_CreateTopUp_di" bpmnElement="ServiceTask_CreateTopUp">
        <dc:Bounds x="6300" y="330" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_TopUpOk_di" bpmnElement="Gateway_TopUpOk" isMarkerVisible="true">
        <dc:Bounds x="6480" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_TopUpError_di" bpmnElement="UserTask_TopUpError">
        <dc:Bounds x="6480" y="80" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_TopUpResult_di" bpmnElement="UserTask_TopUpResult">
        <dc:Bounds x="6660" y="80" width="220" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_WithdrawScreen_di" bpmnElement="UserTask_WithdrawScreen">
        <dc:Bounds x="5620" y="200" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetBankAccounts_di" bpmnElement="ServiceTask_GetBankAccounts">
        <dc:Bounds x="5840" y="400" width="180" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_WithdrawAmountSelect_di" bpmnElement="UserTask_WithdrawAmountSelect">
        <dc:Bounds x="6080" y="200" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_CreateWithdraw_di" bpmnElement="ServiceTask_CreateWithdraw">
        <dc:Bounds x="6300" y="400" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_WithdrawOk_di" bpmnElement="Gateway_WithdrawOk" isMarkerVisible="true">
        <dc:Bounds x="6480" y="415" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_WithdrawError_di" bpmnElement="UserTask_WithdrawError">
        <dc:Bounds x="6480" y="200" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_WithdrawResult_di" bpmnElement="UserTask_WithdrawResult">
        <dc:Bounds x="6660" y="200" width="240" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_P2PScreen_di" bpmnElement="UserTask_P2PScreen">
        <dc:Bounds x="5620" y="320" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetWalletsForP2P_di" bpmnElement="ServiceTask_GetWalletsForP2P">
        <dc:Bounds x="5840" y="520" width="180" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_P2PForm_di" bpmnElement="UserTask_P2PForm">
        <dc:Bounds x="6080" y="300" width="260" height="100" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_CreateP2P_di" bpmnElement="ServiceTask_CreateP2P">
        <dc:Bounds x="6380" y="520" width="180" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_P2POk_di" bpmnElement="Gateway_P2POk" isMarkerVisible="true">
        <dc:Bounds x="6600" y="535" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_P2PError_di" bpmnElement="UserTask_P2PError">
        <dc:Bounds x="6600" y="320" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_P2PResult_di" bpmnElement="UserTask_P2PResult">
        <dc:Bounds x="6780" y="320" width="260" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_CardsScreen_di" bpmnElement="UserTask_CardsScreen">
        <dc:Bounds x="5620" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetCards_di" bpmnElement="ServiceTask_GetCards">
        <dc:Bounds x="5840" y="680" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_AddCardForm_di" bpmnElement="UserTask_AddCardForm">
        <dc:Bounds x="6040" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_AddCard_di" bpmnElement="ServiceTask_AddCard">
        <dc:Bounds x="6260" y="680" width="140" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_CardAdded_di" bpmnElement="Gateway_CardAdded" isMarkerVisible="true">
        <dc:Bounds x="6440" y="695" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_CardError_di" bpmnElement="UserTask_CardError">
        <dc:Bounds x="6440" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_CardDetail_di" bpmnElement="UserTask_CardDetail">
        <dc:Bounds x="6620" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_BankAccountsScreen_di" bpmnElement="UserTask_BankAccountsScreen">
        <dc:Bounds x="6840" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_GetBankAccounts2_di" bpmnElement="ServiceTask_GetBankAccounts2">
        <dc:Bounds x="7060" y="680" width="200" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_AddBankAccount_di" bpmnElement="UserTask_AddBankAccount">
        <dc:Bounds x="7280" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_AddBankAccount_di" bpmnElement="ServiceTask_AddBankAccount">
        <dc:Bounds x="7500" y="680" width="200" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_BankAdded_di" bpmnElement="Gateway_BankAdded" isMarkerVisible="true">
        <dc:Bounds x="7740" y="695" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_BankError_di" bpmnElement="UserTask_BankError">
        <dc:Bounds x="7740" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_BankDetail_di" bpmnElement="UserTask_BankDetail">
        <dc:Bounds x="7920" y="480" width="160" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_Done_di" bpmnElement="EndEvent_Done">
        <dc:Bounds x="7920" y="150" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="236" y="168" />
        <di:waypoint x="380" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="540" y="170" />
        <di:waypoint x="600" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="760" y="370" />
        <di:waypoint x="820" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_yes_di" bpmnElement="Flow_4_yes">
        <di:waypoint x="870" y="370" />
        <di:waypoint x="1200" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_no_di" bpmnElement="Flow_4_no">
        <di:waypoint x="870" y="370" />
        <di:waypoint x="980" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_back_di" bpmnElement="Flow_4_back">
        <di:waypoint x="1140" y="170" />
        <di:waypoint x="600" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="1360" y="170" />
        <di:waypoint x="1420" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="1580" y="370" />
        <di:waypoint x="1640" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_yes_di" bpmnElement="Flow_7_yes">
        <di:waypoint x="1690" y="370" />
        <di:waypoint x="2020" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_no_di" bpmnElement="Flow_7_no">
        <di:waypoint x="1690" y="370" />
        <di:waypoint x="1800" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_back_di" bpmnElement="Flow_7_back">
        <di:waypoint x="1960" y="170" />
        <di:waypoint x="1200" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_8_di" bpmnElement="Flow_8">
        <di:waypoint x="2220" y="160" />
        <di:waypoint x="2280" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_9_di" bpmnElement="Flow_9">
        <di:waypoint x="2440" y="370" />
        <di:waypoint x="2500" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_yes_di" bpmnElement="Flow_10_yes">
        <di:waypoint x="2550" y="370" />
        <di:waypoint x="2880" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_no_di" bpmnElement="Flow_10_no">
        <di:waypoint x="2550" y="370" />
        <di:waypoint x="2660" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_back_di" bpmnElement="Flow_10_back">
        <di:waypoint x="2820" y="170" />
        <di:waypoint x="2020" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11_di" bpmnElement="Flow_11">
        <di:waypoint x="3040" y="170" />
        <di:waypoint x="3100" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12_di" bpmnElement="Flow_12">
        <di:waypoint x="3260" y="370" />
        <di:waypoint x="3320" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13_yes_di" bpmnElement="Flow_13_yes">
        <di:waypoint x="3370" y="370" />
        <di:waypoint x="3700" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13_no_di" bpmnElement="Flow_13_no">
        <di:waypoint x="3370" y="370" />
        <di:waypoint x="3480" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13_back_di" bpmnElement="Flow_13_back">
        <di:waypoint x="3640" y="170" />
        <di:waypoint x="2880" y="170" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
